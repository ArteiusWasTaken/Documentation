<!DOCTYPE html><html><head><meta charset="UTF-8"><script src="https://cdn.jsdelivr.net/npm/prismjs/prism.js"></script>
<script src="https://cdn.jsdelivr.net/npm/prismjs/components/prism-bash.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/prismjs/prism.js"></script>
<script src="https://cdn.jsdelivr.net/npm/prismjs/components/prism-ini.min.js"></script><style>
        .article {
            position: relative;
            padding-bottom: 24px;
        }
        

        .code-block {
            overflow: hidden;
            position: relative;
            padding: 0;
            border-radius: 8px;
            font-variant-ligatures: none;
            background-color: rgba(25, 25, 28, .05);
            word-break: break-all;
        }
        

        .detached {
            margin-block-start: 0;
            margin-block-end: 0;
            margin-bottom: 8px;
        }
        

        .list {
            list-style-type: disc;
            padding-left: 0;
            margin-left: 15px;
        }
        

        .list-decimal {
            list-style-type: decimal;
        }
        

        .list-item {
            margin-top: 6px;
            margin-bottom: 6px;
            margin-left: 4px;
        }
        

        .main-title {
            padding-bottom: 24px;
            margin-top: 0;
            font-size: 40px;
            margin-block-start: 0;
            margin-block-end: 0;
        }
        

        .prism {
            page-break-inside: avoid;
        }
        
        /* PrismJS 1.29.0
https://prismjs.com/download.html#themes=prism&languages=markup+css+clike+javascript+abap+abnf+actionscript+ada+agda+al+antlr4+apacheconf+apex+apl+applescript+aql+arduino+arff+armasm+arturo+asciidoc+aspnet+asm6502+asmatmel+autohotkey+autoit+avisynth+avro-idl+awk+bash+basic+batch+bbcode+bbj+bicep+birb+bison+bnf+bqn+brainfuck+brightscript+bro+bsl+c+csharp+cpp+cfscript+chaiscript+cil+cilkc+cilkcpp+clojure+cmake+cobol+coffeescript+concurnas+csp+cooklang+coq+crystal+css-extras+csv+cue+cypher+d+dart+dataweave+dax+dhall+diff+django+dns-zone-file+docker+dot+ebnf+editorconfig+eiffel+ejs+elixir+elm+etlua+erb+erlang+excel-formula+fsharp+factor+false+firestore-security-rules+flow+fortran+ftl+gml+gap+gcode+gdscript+gedcom+gettext+gherkin+git+glsl+gn+linker-script+go+go-module+gradle+graphql+groovy+haml+handlebars+haskell+haxe+hcl+hlsl+hoon+http+hpkp+hsts+ichigojam+icon+icu-message-format+idris+ignore+inform7+ini+io+j+java+javadoc+javadoclike+javastacktrace+jexl+jolie+jq+jsdoc+js-extras+json+json5+jsonp+jsstacktrace+js-templates+julia+keepalived+keyman+kotlin+kumir+kusto+latex+latte+less+lilypond+liquid+lisp+livescript+llvm+log+lolcode+lua+magma+makefile+markdown+markup-templating+mata+matlab+maxscript+mel+mermaid+metafont+mizar+mongodb+monkey+moonscript+n1ql+n4js+nand2tetris-hdl+naniscript+nasm+neon+nevod+nginx+nim+nix+nsis+objectivec+ocaml+odin+opencl+openqasm+oz+parigp+parser+pascal+pascaligo+psl+pcaxis+peoplecode+perl+php+phpdoc+php-extras+plant-uml+plsql+powerquery+powershell+processing+prolog+promql+properties+protobuf+pug+puppet+pure+purebasic+purescript+python+qsharp+q+qml+qore+r+racket+cshtml+jsx+tsx+reason+regex+rego+renpy+rescript+rest+rip+roboconf+robotframework+ruby+rust+sas+sass+scss+scala+scheme+shell-session+smali+smalltalk+smarty+sml+solidity+solution-file+soy+sparql+splunk-spl+sqf+sql+squirrel+stan+stata+iecst+stylus+supercollider+swift+systemd+t4-templating+t4-cs+t4-vb+tap+tcl+tt2+textile+toml+tremor+turtle+twig+typescript+typoscript+unrealscript+uorazor+uri+v+vala+vbnet+velocity+verilog+vhdl+vim+visual-basic+warpscript+wasm+web-idl+wgsl+wiki+wolfram+wren+xeora+xml-doc+xojo+xquery+yaml+yang+zig&plugins=highlight-keywords */
code[class*=language-],pre[class*=language-]{color:#000;background:0 0;text-shadow:0 1px #fff;font-family:Consolas,Monaco,'Andale Mono','Ubuntu Mono',monospace;font-size:1em;text-align:left;white-space:pre-wrap;word-spacing:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none}code[class*=language-] ::-moz-selection,code[class*=language-]::-moz-selection,pre[class*=language-] ::-moz-selection,pre[class*=language-]::-moz-selection{text-shadow:none;background:#b3d4fc}code[class*=language-] ::selection,code[class*=language-]::selection,pre[class*=language-] ::selection,pre[class*=language-]::selection{text-shadow:none;background:#b3d4fc}@media print{code[class*=language-],pre[class*=language-]{text-shadow:none}}pre[class*=language-]{padding:16px;margin:0;overflow:auto}:not(pre)>code[class*=language-],pre[class*=language-]{background:#f5f2f0}:not(pre)>code[class*=language-]{padding:.1em;border-radius:.3em;white-space:normal}.token.cdata,.token.comment,.token.doctype,.token.prolog{color:#708090}.token.punctuation{color:#999}.token.namespace{opacity:.7}.token.boolean,.token.constant,.token.deleted,.token.number,.token.property,.token.symbol,.token.tag{color:#905}.token.attr-name,.token.builtin,.token.char,.token.inserted,.token.selector,.token.string{color:#690}.language-css .token.string,.style .token.string,.token.entity,.token.operator,.token.url{color:#9a6e3a;background:hsla(0,0%,100%,.5)}.token.atrule,.token.attr-value,.token.keyword{color:#07a}.token.class-name,.token.function{color:#dd4a68}.token.important,.token.regex,.token.variable{color:#e90}.token.bold,.token.important{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}

        

        :root {
            width: 95%;
            max-width: 95vw;
            padding: 0 0 0 30px;
        }
        
        body {
            font-family: JetBrains Sans,serif;
        }
        
        a {
            overflow-wrap: anywhere;
            width: 100vw;
        }
        
        
        @font-face {
            font-family: JetBrains Sans;
            src: url(https://resources.jetbrains.com/storage/jetbrains-sans/JetBrainsSans-Light.woff2) format("woff2"), url(https://resources.jetbrains.com/storage/jetbrains-sans/JetBrainsSans-Light.woff) format("woff");
            font-weight: 300;
            font-style: normal;
        }

        @font-face {
            font-family: JetBrains Sans;
            src: url(https://resources.jetbrains.com/storage/jetbrains-sans/JetBrainsSans-Regular.woff2) format("woff2"), url(https://resources.jetbrains.com/storage/jetbrains-sans/JetBrainsSans-Regular.woff) format("woff");
            font-weight: 400;
            font-style: normal;
        }

        @font-face {
            font-family: JetBrains Sans;
            src: url(https://resources.jetbrains.com/storage/jetbrains-sans/JetBrainsSans-SemiBold.woff2) format("woff2"), url(https://resources.jetbrains.com/storage/jetbrains-sans/JetBrainsSans-SemiBold.woff) format("woff");
            font-weight: 600;
            font-style: normal;
        }
        
        
        code {
            display: inline;
            word-break: break-word;
            font-size: 15px;
            line-height: inherit;
            font-variant-ligatures: none;
            font-family: JetBrains Sans,monospace;
            white-space: pre-line;
            overflow-wrap: break-word;
        }
        
        figcaption {
            margin-top: 5px;
        }
        
        h2 {
            padding-top: 16px;
            padding-bottom: 8px;
            margin-block-start: 0;
            margin-block-end: 0;
        }
        
        h3 {
            padding-top: 8px;
            padding-bottom: 8px;
            margin-block-start: 0;
            margin-block-end: 0;
        }
        
        h4 {
            padding-top: 4px;
            padding-bottom: 8px;
            margin-block-start: 0;
            margin-block-end: 0;
        }
        
        p {
            padding: 0;
            border: 0;
            line-height: 25px;
            margin-block-start: 0;
            margin-block-end: 0;
            padding-bottom: 8px;
        }
        
        div {
            display: block;
        }
        
        table {
            border-collapse: collapse;
            width: 100%;
            page-break-inside: avoid;
        }
        
        th, td {
            border: 1px solid #c4c4c4;
            padding: 10px;
            text-align: left;
            word-break: break-all;
        }
        
        .entry {
            display: grid;
            grid-template-columns: auto max-content;
            grid-template-areas: "chapter page";
            align-items: end;
            gap: 0 .25rem;
            line-height: 25px;
        }
        
        .toc-link-container{
            grid-area: chapter;
            position: relative;
            overflow: hidden;
        }
        
        .toc-link{
            text-decoration: none;
            color: black;
        }
        
        .toc-link-container::after {
            position: absolute;
            padding-left: .25ch;
            content: " . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . "
            ". . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . "
            ". . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . ";
            text-align: right;
        }
        
        .page {
            grid-area: page;
            width: 30px;
            text-align: right;
        }
        

        .topic {
            page-break-before: always;
        }
        </style><title>pdfSourceD</title></head><body><div><section class="topic"><div><article class="article"><h1 class="main-title">Table of contents</h1><div class="entry"><div class="toc-link-container"><a class="toc-link" href="#-1995653224">Instalaci&oacute;n y Configuraci&oacute;n de No-IP en Raspberry Pi</a></div><div class="page">2</div></div><div class="entry"><div class="toc-link-container"><a class="toc-link" href="#748318430">Instalar PrintServer</a></div><div class="page">5</div></div></article></div></section><section class="topic"><div><article class="article"><h1 class="main-title" id="-1995653224">Instalaci&oacute;n y Configuraci&oacute;n de No-IP en Raspberry Pi</h1><section><h2 id="-1995653224#preparaci-n" data-toc="preparaci-n#Install-Noip2.md-preparaci-n">Preparaci&oacute;n</h2><ol class="list list-decimal" id="-1995653224#z2o63l5_5" type="1" start="1"><li class="list-item" id="-1995653224#z2o63l5_9"><p id="-1995653224#z2o63l5_11">Descarga y extrae el cliente de No-IP:</p><div class="detached code-block" id="-1995653224#z2o63l5_12"><pre><code class="language-bash">cd /usr/local/src/
sudo wget http://www.no-ip.com/client/linux/noip-duc-linux.tar.gz
sudo tar xf noip-duc-linux.tar.gz
cd noip-2.1.9-1/</code></pre></div></li><li class="list-item" id="-1995653224#z2o63l5_10"><p id="-1995653224#z2o63l5_13">Compila e instala el cliente:</p><div class="detached code-block" id="-1995653224#z2o63l5_14"><pre><code class="language-bash">sudo make
sudo make install</code></pre></div></li></ol><ul class="list" id="-1995653224#z2o63l5_6" start="1"><li class="list-item" id="-1995653224#z2o63l5_15"><p id="-1995653224#z2o63l5_16">Aqui pedir&aacute; las credenciales para conectarse a la cuenta de no-ip, despu&eacute;s preguntar&aacute; por que direcci&oacute;n es la que vamos a actualizar en el Raspberry y al final hay que configurar el intervalo y scripts como sigue:</p><ul class="list" id="-1995653224#z2o63l5_17" start="1"><li class="list-item" id="-1995653224#z2o63l5_18"><p>Interval: 5</p></li><li class="list-item" id="-1995653224#z2o63l5_19"><p>Run scripts on end? Y/n: n</p></li></ul></li></ul><ol class="list list-decimal" id="-1995653224#z2o63l5_7" type="1" start="3"><li class="list-item" id="-1995653224#z2o63l5_20"><p id="-1995653224#z2o63l5_21">Generamos el archivo de configuraci&oacute;n:</p><div class="detached code-block" id="-1995653224#z2o63l5_22"><pre><code class="language-bash">sudo /usr/local/bin/noip2 -C</code></pre></div></li></ol><ul class="list" id="-1995653224#z2o63l5_8" start="1"><li class="list-item" id="-1995653224#z2o63l5_23"><p>Aqui volveremos a configurar todo como en el paso 2.</p></li></ul></section><section><h2 id="-1995653224#configuraci-n-del-servicio" data-toc="configuraci-n-del-servicio#Install-Noip2.md-configuraci-n-del-servicio">Configuraci&oacute;n del Servicio</h2><ol class="list list-decimal" id="-1995653224#z2o63l5_24" type="1" start="1"><li class="list-item" id="-1995653224#z2o63l5_25"><p id="-1995653224#z2o63l5_30">Edita el archivo de servicio:</p><div class="detached code-block" id="-1995653224#z2o63l5_31"><pre><code class="language-bash">sudo nano /etc/systemd/system/noip2.service</code></pre></div></li><li class="list-item" id="-1995653224#z2o63l5_26"><p id="-1995653224#z2o63l5_32">Copia y pega el siguiente contenido:</p><div class="detached code-block" id="-1995653224#z2o63l5_33"><pre><code class="language-ini"># Simple No-ip.com Dynamic DNS Updater
#
# By Nathan Giesbrecht (http://nathangiesbrecht.com)
#
# 1) Install binary as described in no-ip.com's source file (assuming results in /usr/local/bin)
# 2) Run sudo /usr/local/bin/noip2 -C to generate configuration file
# 3) Copy this file noip2.service to /etc/systemd/system/
# 4) Execute sudo systemctl enable noip2
# 5) Execute sudo systemctl start noip2
#
# systemd supports lots of fancy features, look here (and linked docs) for a full list:
#   http://www.freedesktop.org/software/systemd/man/systemd.exec.html

[Unit]
Description=No-ip.com dynamic IP address updater
After=network.target
After=syslog.target

[Install]
WantedBy=multi-user.target
Alias=noip.service

[Service]
# Start main service
ExecStart=/usr/local/bin/noip2
Restart=always
Type=forking</code></pre></div></li><li class="list-item" id="-1995653224#z2o63l5_27"><p id="-1995653224#z2o63l5_34">Recarga los demonios de sistema y habilita el servicio de No-IP:</p><div class="detached code-block" id="-1995653224#z2o63l5_35"><pre><code class="language-bash">sudo systemctl daemon-reload
sudo systemctl enable noip2
sudo systemctl start noip2</code></pre></div></li><li class="list-item" id="-1995653224#z2o63l5_28"><p id="-1995653224#z2o63l5_36">Verifica el estado del servicio:</p><div class="detached code-block" id="-1995653224#z2o63l5_37"><pre><code class="language-bash">sudo systemctl status noip2</code></pre></div></li><li class="list-item" id="-1995653224#z2o63l5_29"><p id="-1995653224#z2o63l5_38">Preferencia personal, reiniciamos el sistema:</p><div class="detached code-block" id="-1995653224#z2o63l5_39"><pre><code class="language-bash">sudo reboot</code></pre></div></li></ol></section></article></div></section><section class="topic"><div><article class="article"><h1 class="main-title" id="748318430">Instalar PrintServer</h1><section><h2 id="748318430#instalaci-n-de-apache-y-git" data-toc="instalaci-n-de-apache-y-git#Install-PrintServer.md-instalaci-n-de-apache-y-git">Instalaci&oacute;n de Apache y Git</h2><ol class="list list-decimal" id="748318430#z5tbe77_7" type="1" start="1"><li class="list-item" id="748318430#z5tbe77_9"><p id="748318430#z5tbe77_10">Instalar ambos paquetes:</p><div class="detached code-block" id="748318430#z5tbe77_11"><pre><code class="language-bash">sudo apt-get install apache2
sudo apt-get install git</code></pre></div></li></ol><ul class="list" id="748318430#z5tbe77_8" start="1"><li class="list-item" id="748318430#z5tbe77_12"><p>Hasta el momento, las versiones actuales funcionan sin problema.</p></li></ul></section><section><h2 id="748318430#instalaci-n-de-php-y-composer" data-toc="instalaci-n-de-php-y-composer#Install-PrintServer.md-instalaci-n-de-php-y-composer">Instalaci&oacute;n de PHP y Composer</h2><ol class="list list-decimal" id="748318430#z5tbe77_13" type="1" start="1"><li class="list-item" id="748318430#z5tbe77_15"><p id="748318430#z5tbe77_18">Configuramos el repositorio par descargar la version antigua:</p><div class="detached code-block" id="748318430#z5tbe77_19"><pre><code class="language-bash">echo &quot;deb http://archive.debian.org/debian buster main&quot; | sudo tee /etc/apt/sources.list.d/buster.list
sudo apt clean
sudo apt update</code></pre></div></li><li class="list-item" id="748318430#z5tbe77_16"><p id="748318430#z5tbe77_20">El proyecto necesita una versi&oacute;n especifica de PHP:</p><div class="detached code-block" id="748318430#z5tbe77_21"><pre><code class="language-bash">sudo apt install php-common=2:69
sudo apt install php7.3
sudo apt install php7.3-curl php7.3-gd php7.3-mbstring php7.3-mysql php7.3-xml</code></pre></div></li><li class="list-item" id="748318430#z5tbe77_17"><p id="748318430#z5tbe77_22">Instalar Composer:</p><div class="detached code-block" id="748318430#z5tbe77_23"><pre><code class="language-bash">mkdir php
cd php
php -r &quot;copy('https://getcomposer.org/installer', 'composer-setup.php');&quot;
php composer-setup.php --version=2.0.10
sudo mv composer.phar /usr/local/bin/composer
composer -v</code></pre></div></li></ol><ul class="list" id="748318430#z5tbe77_14" start="1"><li class="list-item" id="748318430#z5tbe77_24"><p>Esto Instalar&aacute; php 7.3 y Composer 2.0.10</p></li></ul></section><section><h2 id="748318430#configuraci-n-de-apache" data-toc="configuraci-n-de-apache#Install-PrintServer.md-configuraci-n-de-apache">Configuraci&oacute;n de Apache</h2><ol class="list list-decimal" id="748318430#z5tbe77_25" type="1" start="1"><li class="list-item" id="748318430#z5tbe77_26"><p id="748318430#z5tbe77_29">Abrimos el archivo de configuraci&oacute;n de apache:</p><div class="detached code-block" id="748318430#z5tbe77_30"><pre><code class="language-bash">sudo nano /etc/apache2/apache2.conf</code></pre></div></li><li class="list-item" id="748318430#z5tbe77_27"><p id="748318430#z5tbe77_31">Nos aseguramos de que contenga las siguientes configuraciones, normalmente el cambio es en 'AllowOverride'</p><div class="detached code-block" id="748318430#z5tbe77_32"><pre><code class="language-ini">&lt;Directory /&gt;
 Options FollowSymLinks
 AllowOverride None
 Require all denied
&lt;/Directory&gt;

&lt;Directory /usr/share&gt;
    AllowOverride None
    Require all granted
&lt;/Directory&gt;

&lt;Directory /var/www/&gt;
    Options Indexes FollowSymLinks
    AllowOverride All
    Require all granted
&lt;/Directory&gt;</code></pre></div></li><li class="list-item" id="748318430#z5tbe77_28"><p id="748318430#z5tbe77_33">Guarda y cierra el archivo (Ctrl + X, luego Y, y presiona Enter).</p></li></ol></section><section><h2 id="748318430#configuraci-n-del-proyecto" data-toc="configuraci-n-del-proyecto#Install-PrintServer.md-configuraci-n-del-proyecto">Configuraci&oacute;n del Proyecto</h2><ol class="list list-decimal" id="748318430#z5tbe77_34" type="1" start="1"><li class="list-item" id="748318430#z5tbe77_35"><p id="748318430#z5tbe77_41">Navegamoa al directorio /var/www/html/ y luego clona el proyecto (probablemente se necesite una contrase&ntilde;a de aplicaci&oacute;n)</p><div class="detached code-block" id="748318430#z5tbe77_42"><pre><code class="language-bash">cd /var/www/html/</code></pre></div></li><li class="list-item" id="748318430#z5tbe77_36"><p id="748318430#z5tbe77_43">Instalamos las dependencias de Composer:</p><div class="detached code-block" id="748318430#z5tbe77_44"><pre><code class="language-bash">cd /var/www/html/raspberry-print-server/
sudo composer install</code></pre></div></li><li class="list-item" id="748318430#z5tbe77_37"><p id="748318430#z5tbe77_45">Habilitamos el m&oacute;dulo rewrite de Apache y reinicia el servicio:</p><div class="detached code-block" id="748318430#z5tbe77_46"><pre><code class="language-bash">sudo a2enmod rewrite
sudo systemctl restart apache2</code></pre></div></li><li class="list-item" id="748318430#z5tbe77_38"><p id="748318430#z5tbe77_47">Instalamos las libreras de Python faltantes (python-escpos):</p><div class="detached code-block" id="748318430#z5tbe77_48"><pre><code class="language-bash">sudo -H python3 -m pip install python-escpos --break-system-packages</code></pre></div></li><li class="list-item" id="748318430#z5tbe77_39"><p id="748318430#z5tbe77_49">Instalamos las libreras de Python faltantes (pytz):</p><div class="detached code-block" id="748318430#z5tbe77_50"><pre><code class="language-bash">sudo -H python3 -m pip install pytz --break-system-packages</code></pre></div></li><li class="list-item" id="748318430#z5tbe77_40"><p id="748318430#z5tbe77_51">Preferencia personal, reiniciamos el sistema:</p><div class="detached code-block" id="748318430#z5tbe77_52"><pre><code class="language-bash">sudo reboot</code></pre></div></li></ol></section></article></div></section></div></body></html>